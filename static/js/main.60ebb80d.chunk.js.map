{"version":3,"sources":["App.tsx","index.tsx"],"names":["format","require","useStyles","makeStyles","column","flex","inputSpacing","height","App","applyTransform","document","transform","parser","DOMParser","xsltProcessor","XSLTProcessor","documentSource","parseFromString","transformSource","importStylesheet","resultDocument","transformToDocument","XMLSerializer","serializeToString","documentElement","useState","setDocument","setTransform","transformed","setTransformed","useEffect","handleReadingFile","e","stateUpdate","file","target","files","reader","FileReader","onload","formattedXml","result","readAsText","style","Grid","container","direction","spacing","item","xs","Card","className","Typography","variant","Divider","type","id","onInput","whiteSpace","ReactDOM","render","StrictMode","getElementById"],"mappings":"wRAUMA,EAASC,EAAQ,IAkCjBC,EAAYC,YAAW,CAC3BC,OAAQ,CACNC,KAAM,GAERC,aAAc,CACZC,OAAQ,UA8FGC,MA1Ff,WACE,IAAMC,EAAiB,SAACC,EAAkBC,GACxC,IAAMC,EAAS,IAAIC,UACbC,EAAgB,IAAIC,cACpBC,EAAiBJ,EAAOK,gBAC5BP,EACA,YAEIQ,EAAkBN,EAAOK,gBAC7BN,EACA,YAEFG,EAAcK,iBAAiBD,GAC/B,IAAME,EAAiBN,EAAcO,oBAAoBL,GAIzD,OADmB,IAAIM,eACLC,kBAAkBH,EAAeI,kBAjBxC,EAoBmBC,mBAASzB,EA7DtB,qQAyCN,mBAoBNU,EApBM,KAoBIgB,EApBJ,OAqBqBD,mBAnDd,uaA8BP,mBAqBNd,EArBM,KAqBKgB,EArBL,OAuByBF,mBACpChB,EAAeC,EAAUC,IAxBd,mBAuBNiB,EAvBM,KAuBOC,EAvBP,KA2BbC,qBAAU,WACRD,EAAepB,EAAeC,EAAUC,MACvC,CAACD,EAAUC,IAEd,IAAMoB,EAAoB,SACxBC,EACAC,GAEA,IAAMC,EAAaF,EAAEG,OAAOC,MAAM,GAC5BC,EAAS,IAAIC,WACnBD,EAAOE,OAAS,SAACP,GAAO,IAAD,EACfQ,EAAexC,EAAM,UAACgC,EAAEG,cAAH,aAAC,EAAUM,QACtCR,EAAYO,IAEdH,EAAOK,WAAWR,IAGdS,EAAQzC,IACd,OACE,eAAC0C,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,QAAS,EAAzC,UACE,cAACH,EAAA,EAAD,CAAMI,MAAI,EAACH,WAAS,EAACF,MAAO,CAAEpC,OAAQ,SAAW0C,GAAI,EAArD,SACE,eAACC,EAAA,EAAD,CAAMC,UAAWR,EAAMvC,OAAvB,UACE,cAACgD,EAAA,EAAD,CAAYC,QAAQ,KAApB,0BACA,cAACC,EAAA,EAAD,IACA,uBACEC,KAAK,OACLC,GAAG,iBACHC,QAAS,SAACzB,GACRD,EAAkBC,EAAGN,MAGzB,cAAC4B,EAAA,EAAD,IACA,qBAAKX,MAAO,CAAEe,WAAY,YAA1B,SAAyChD,SAI7C,cAACkC,EAAA,EAAD,CAAMI,MAAI,EAACH,WAAS,EAACF,MAAO,CAAEpC,OAAQ,SAAW0C,GAAI,EAArD,SACE,eAACC,EAAA,EAAD,CAAMC,UAAWR,EAAMvC,OAAvB,UACE,cAACgD,EAAA,EAAD,CAAYC,QAAQ,KAApB,4BACA,cAACC,EAAA,EAAD,IACA,uBACEC,KAAK,OACLC,GAAG,kBACHC,QAAS,SAACzB,GACRD,EAAkBC,EAAGL,MAGzB,cAAC2B,EAAA,EAAD,IACA,qBAAKX,MAAO,CAAEe,WAAY,YAA1B,SAAyC/C,SAG7C,cAACiC,EAAA,EAAD,CAAMI,MAAI,EAACH,WAAS,EAACF,MAAO,CAAEpC,OAAQ,SAAW0C,GAAI,EAArD,SACE,eAACC,EAAA,EAAD,CAAMC,UAAWR,EAAMvC,OAAvB,UACE,cAACgD,EAAA,EAAD,CAAYC,QAAQ,KAApB,4BACA,cAACC,EAAA,EAAD,IACA,qBAAKH,UAAWR,EAAMrC,eACtB,qBAAKqC,MAAO,CAAEe,WAAY,YAA1B,SAAyC9B,aClInD+B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFnD,SAASoD,eAAe,W","file":"static/js/main.60ebb80d.chunk.js","sourcesContent":["import {\n  Card,\n  Container,\n  Divider,\n  Grid,\n  makeStyles,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { Dispatch, SetStateAction, useEffect, useState } from \"react\";\nimport \"./App.css\";\nconst format = require(\"xml-formatter\");\n\nconst defaultDocument = `<?xml version=\"1.0\"?>\n<?xml-stylesheet type=\"text/xsl\" href=\"example.xsl\"?>\n<Article>\n  <Title>My Article</Title>\n  <Authors>\n    <Author>Mr. Foo</Author>\n    <Author>Mr. Bar</Author>\n  </Authors>\n  <Body>This is my article text.</Body>\n</Article>`;\n\nconst defaultTransform = `<?xml version=\"1.0\"?>\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\n\n  <xsl:output method=\"text\"/>\n\n  <xsl:template match=\"/\">\n    Article - <xsl:value-of select=\"/Article/Title\"/>\n    Authors: <xsl:apply-templates select=\"/Article/Authors/Author\"/>\n  </xsl:template>\n\n  <xsl:template match=\"Author\">\n    - <xsl:value-of select=\".\" />\n  </xsl:template>\n\n</xsl:stylesheet>`;\n\n//styled component Li\n// const ColGrid = styled.Grid`\n//   height: \"100vh\";\n// `;\n\nconst useStyles = makeStyles({\n  column: {\n    flex: 1,\n  },\n  inputSpacing: {\n    height: \"22px\",\n  },\n});\n\nfunction App() {\n  const applyTransform = (document: string, transform: string) => {\n    const parser = new DOMParser();\n    const xsltProcessor = new XSLTProcessor();\n    const documentSource = parser.parseFromString(\n      document as string,\n      \"text/xml\"\n    );\n    const transformSource = parser.parseFromString(\n      transform as string,\n      \"text/xml\"\n    );\n    xsltProcessor.importStylesheet(transformSource);\n    const resultDocument = xsltProcessor.transformToDocument(documentSource);\n\n    // Obtain result as a string\n    const serializer = new XMLSerializer();\n    return serializer.serializeToString(resultDocument.documentElement);\n  };\n\n  const [document, setDocument] = useState(format(defaultDocument as string));\n  const [transform, setTransform] = useState(defaultTransform);\n\n  const [transformed, setTransformed] = useState(\n    applyTransform(document, transform)\n  );\n\n  useEffect(() => {\n    setTransformed(applyTransform(document, transform));\n  }, [document, transform]);\n\n  const handleReadingFile = (\n    e: any,\n    stateUpdate: Dispatch<SetStateAction<string>>\n  ) => {\n    const file: File = e.target.files[0];\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      const formattedXml = format(e.target?.result as string);\n      stateUpdate(formattedXml);\n    };\n    reader.readAsText(file);\n  };\n\n  const style = useStyles();\n  return (\n    <Grid container direction=\"row\" spacing={2}>\n      <Grid item container style={{ height: \"100vh\" }} xs={4}>\n        <Card className={style.column}>\n          <Typography variant=\"h3\">XML Document</Typography>\n          <Divider />\n          <input\n            type=\"file\"\n            id=\"document-input\"\n            onInput={(e) => {\n              handleReadingFile(e, setDocument);\n            }}\n          />\n          <Divider />\n          <div style={{ whiteSpace: \"pre-wrap\" }}>{document}</div>\n        </Card>\n      </Grid>\n\n      <Grid item container style={{ height: \"100vh\" }} xs={4}>\n        <Card className={style.column}>\n          <Typography variant=\"h3\">XSLT Transform</Typography>\n          <Divider />\n          <input\n            type=\"file\"\n            id=\"transform-input\"\n            onInput={(e) => {\n              handleReadingFile(e, setTransform);\n            }}\n          />\n          <Divider />\n          <div style={{ whiteSpace: \"pre-wrap\" }}>{transform}</div>\n        </Card>\n      </Grid>\n      <Grid item container style={{ height: \"100vh\" }} xs={4}>\n        <Card className={style.column}>\n          <Typography variant=\"h3\">Transformation</Typography>\n          <Divider />\n          <div className={style.inputSpacing} />\n          <div style={{ whiteSpace: \"pre-wrap\" }}>{transformed}</div>\n        </Card>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// // If you want to start measuring performance in your app, pass a function\n// // to log results (for example: reportWebVitals(console.log))\n// // or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}